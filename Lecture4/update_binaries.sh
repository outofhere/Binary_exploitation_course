#!/bin/bash
gcc linux.cpp -O0 -no-pie -z execstack -fno-stack-protector -o vuln1_x64_vanilla
gcc linux.cpp -O0 -no-pie -o vuln1_x64_canary_noexecstack
gcc linux.cpp -O0 -no-pie -z execstack -o vuln1_x64_canary
gcc linux.cpp -O0 -no-pie -fno-stack-protector -o vuln1_x64_noexecstack

gcc -m32 linux.cpp -O0 -no-pie -o vuln1_x86_canary_noexecstack
gcc -m32 linux.cpp -O0 -no-pie -z execstack -o vuln1_x86_canary
gcc -m32 linux.cpp -O0 -no-pie -fno-stack-protector -o vuln1_x86_noexecstack
gcc -m32 linux.cpp -O0 -no-pie -z execstack -fno-stack-protector -o vuln1_x86_vanilla

i686-w64-mingw32-gcc-win32 windows.cpp -O0 -fno-stack-protector -Wl,--no-seh -Wl,--no-dynamicbase -Wl,--no-nxcompat -o vuln1_x86_vanilla.exe
i686-w64-mingw32-gcc-win32 windows.cpp -O0 -fno-stack-protector -Wl,--no-seh -Wl,--no-dynamicbase -Wl,--nxcompat -o vuln1_x86_noexecstack.exe
i686-w64-mingw32-gcc-win32 windows.cpp -O0 -Wl,--no-seh -Wl,--no-dynamicbase -Wl,--no-nxcompat -o vuln1_x86_canary.exe
i686-w64-mingw32-gcc-win32 windows.cpp -O0 -Wl,--no-seh -Wl,--no-dynamicbase -o vuln1_x86_canary_noexecstack.exe

x86_64-w64-mingw32-gcc windows.cpp -O0 -fno-stack-protector -Wl,--no-seh -Wl,--no-dynamicbase -Wl,--no-nxcompat -o vuln1_x64_vanilla.exe
x86_64-w64-mingw32-gcc windows.cpp -O0 -fno-stack-protector -Wl,--no-seh -Wl,--no-dynamicbase -Wl,--nxcompat -o vuln1_x64_noexecstack.exe
x86_64-w64-mingw32-gcc windows.cpp -O0 -Wl,--no-seh -Wl,--no-dynamicbase -Wl,--no-nxcompat -o vuln1_x64_canary.exe
x86_64-w64-mingw32-gcc windows.cpp -O0 -Wl,--no-seh -Wl,--no-dynamicbase -o vuln1_x64_canary_noexecstack.exe